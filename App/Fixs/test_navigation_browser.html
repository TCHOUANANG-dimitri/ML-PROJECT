<!DOCTYPE html>
<html>
<head>
  <title>Navigation Test</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    .test-result { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
    .pass { background-color: #d4edda; }
    .fail { background-color: #f8d7da; }
  </style>
</head>
<body>
  <h1>Navigation Test Results</h1>
  <div id="results"></div>

  <script>
    const tests = [];
    
    // Test 1: Check if activatePage function exists
    tests.push({
      name: "activatePage function exists",
      check: () => typeof activatePage === "function"
    });

    // Test 2: Check if initNavigation function exists
    tests.push({
      name: "initNavigation function exists", 
      check: () => typeof initNavigation === "function"
    });

    // Test 3: Check if init function exists
    tests.push({
      name: "init function exists",
      check: () => typeof init === "function"
    });

    // Test 4: Verify DOM elements exist
    tests.push({
      name: "Sidebar elements exist",
      check: () => {
        return document.querySelectorAll(".sidebar-item").length === 6;
      }
    });

    // Test 5: Verify pages exist
    tests.push({
      name: "Page sections exist",
      check: () => {
        const pageIds = ["dashboard", "recommendation", "timetable", "teachers", "prediction", "analysis"];
        return pageIds.every(id => document.getElementById(`page-${id}`));
      }
    });

    // Test 6: Check CSS classes work
    tests.push({
      name: "Page visibility CSS works",
      check: () => {
        const style = window.getComputedStyle(document.querySelector(".page.active"));
        return style.display !== "none";
      }
    });

    // Run tests
    let passCount = 0;
    const resultsDiv = document.getElementById("results");
    
    tests.forEach(test => {
      try {
        const result = test.check();
        const passed = result === true;
        passCount += passed ? 1 : 0;
        
        const div = document.createElement("div");
        div.className = `test-result ${passed ? "pass" : "fail"}`;
        div.innerHTML = `<strong>${passed ? "✓" : "✗"} ${test.name}</strong>`;
        resultsDiv.appendChild(div);
      } catch (error) {
        const div = document.createElement("div");
        div.className = "test-result fail";
        div.innerHTML = `<strong>✗ ${test.name}</strong><br><small>Error: ${error.message}</small>`;
        resultsDiv.appendChild(div);
      }
    });

    const summary = document.createElement("div");
    summary.style.marginTop = "20px";
    summary.innerHTML = `<h2>${passCount}/${tests.length} tests passed</h2>`;
    if (passCount === tests.length) {
      summary.innerHTML += "<p style='color: green;'><strong>✓ Navigation should work!</strong></p>";
    } else {
      summary.innerHTML += "<p style='color: red;'><strong>✗ Navigation may not work properly</strong></p>";
    }
    resultsDiv.appendChild(summary);
  </script>
</body>
</html>
